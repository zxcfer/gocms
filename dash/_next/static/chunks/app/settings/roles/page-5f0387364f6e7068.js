(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[839],{78571:function(e,t,r){Promise.resolve().then(r.bind(r,95412))},95412:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var n=r(57437),l=r(8792),a=r(34560),i=r(15e3),s=r(75006),u=r(60834),o=r(30142),c=r(39997),d=r(27453),f=r(33277),m=r(90688),p=r(95453);let v=e=>[{accessorKey:"id",enableSorting:!0,enableHiding:!0,filterFn:o.i,header:e=>{let{column:t}=e;return(0,n.jsx)(c.Q,{column:t,title:"ID"})},cell:e=>{let{row:t}=e;return(0,n.jsx)("div",{className:"flex space-x-2",children:(0,n.jsx)("span",{className:"w-[60px] truncate font-medium",children:t.getValue("id")})})}},{accessorKey:"name",enableSorting:!0,enableHiding:!0,filterFn:o.i,header:e=>{let{column:t}=e;return(0,n.jsx)(c.Q,{column:t,title:"Name"})},cell:e=>{let{row:t}=e;return(0,n.jsx)("div",{className:"flex space-x-2",children:(0,n.jsx)("span",{className:"max-w-[500px] truncate font-medium",children:t.getValue("name")})})}},{accessorKey:"description",enableSorting:!0,enableHiding:!0,filterFn:o.i,header:e=>{let{column:t}=e;return(0,n.jsx)(c.Q,{column:t,title:"Description"})},cell:e=>{let{row:t}=e;return(0,n.jsx)("div",{className:"flex space-x-2",children:(0,n.jsx)("span",{className:"max-w-[500px] truncate font-medium",children:t.getValue("description")})})}},{accessorKey:"root",header:e=>{let{column:t}=e;return(0,n.jsx)(c.Q,{column:t,title:"Root"})},cell:e=>{let{row:t}=e;return(0,n.jsx)("div",{className:"w-[80px]",children:t.getValue("root")?(0,n.jsx)(f.C,{children:"Root"}):null})},filterFn:(e,t,r)=>r===e.getValue(t),enableSorting:!0,enableHiding:!0},{accessorKey:"type",header:e=>{let{column:t}=e;return(0,n.jsx)(c.Q,{column:t,title:"Type"})},cell:e=>{let{row:t}=e,r=[1,2,3].includes(t.getValue("id"))?(0,n.jsx)(f.C,{children:"System"}):(0,n.jsx)(f.C,{variant:"secondary",children:"User"});return(0,n.jsx)("div",{className:"w-[80px]",children:r})},filterFn:(e,t,r)=>r===e.getValue(t),enableSorting:!1,enableHiding:!0},{accessorKey:"created_at",filterFn:o.i,header:e=>{let{column:t}=e;return(0,n.jsx)(c.Q,{column:t,title:"Created at"})},cell:e=>{let{row:t}=e;return(0,n.jsx)("div",{children:t.getValue("created_at")})},enableSorting:!0,enableHiding:!0},{id:"actions",cell:t=>{let{row:r}=t,a=r.original;return(0,n.jsxs)("div",{className:"flex h-5 items-center space-x-4 text-sm",children:[(0,n.jsx)(l.default,{href:"/settings/roles/edit?id=".concat(a.id),className:"cursor-pointer hover:underline",children:"Edit"}),![1,2,3].includes(a.id)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.Z,{orientation:"vertical"}),(0,n.jsx)("button",{className:"cursor-pointer hover:underline text-red-800",onClick:async()=>{if(confirm("Are you sure you want to delete this role: ".concat(a.name,"?")))try{await (0,m.Rd)(a.id),d.h4.success("Role ".concat(a.name," deleted")),await e()}catch(e){d.h4.error(e.message)}},children:"Delete"})]})]})}}];var h=r(57654),g=r(76540),x=r(70769),b=r(2265);function y(){let{data:e,isLoading:t,error:r,refetch:o}=(0,g.a)({queryKey:["roles"],queryFn:m.xv}),c=v(o);return((0,b.useEffect)(()=>((0,a.D8)({title:"Roles list",description:"List of all roles.",breadcrumbs:[{name:"Settings",path:"/settings"},{name:"Roles",path:"/settings/roles"}],actions:[(0,n.jsx)(l.default,{href:"/settings/roles/edit",children:(0,n.jsx)(h.z,{size:"sm",icon:(0,n.jsx)(x.Z,{className:"mr-2 h-4 w-4"}),children:"New Role"})},"create")]}),a.D8),[]),t)?(0,n.jsx)(s.g,{}):r?(0,n.jsx)(i.T,{error:r}):(0,n.jsx)(u.i,{data:e,columns:c,getRowId:e=>e.name,filterTitle:"Filter roles"})}},15e3:function(e,t,r){"use strict";r.d(t,{T:function(){return u}});var n=r(57437),l=r(29069),a=r(62985),i=r(95601),s=r.n(i);let u=e=>{var t;let{title:r,description:i,error:u}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s(),{children:(0,n.jsx)("title",{children:null!=r?r:"Error"})}),(0,n.jsxs)(l.bZ,{variant:"destructive",children:[(0,n.jsx)(a.Z,{size:16,className:"mr-2"}),(0,n.jsx)(l.Cd,{children:null!=r?r:"Error"}),(null==u?void 0:u.message)||i&&(0,n.jsx)(l.X,{children:null!==(t=null==u?void 0:u.message)&&void 0!==t?t:i})]})]})}},30142:function(e,t,r){"use strict";r.d(t,{i:function(){return n}});let n=(e,t,r)=>String(e.getValue(t)).toLocaleLowerCase().includes(String(r).toLocaleLowerCase())},39997:function(e,t,r){"use strict";r.d(t,{Q:function(){return u}});var n=r(57437),l=r(62177),a=r(34645),i=r(22169),s=r(57654);function u(e){let{column:t,title:r,className:u}=e;if(!t.getCanSort())return(0,n.jsx)("div",{className:(0,i.cn)(u),children:r});let o=(0,n.jsx)(l.jnn,{className:"ml-2 h-4 w-4"});return"desc"===t.getIsSorted()&&(o=(0,n.jsx)(l.veu,{className:"ml-2 h-4 w-4"})),"asc"===t.getIsSorted()&&(o=(0,n.jsx)(l.Hf3,{className:"ml-2 h-4 w-4"})),(0,n.jsx)("div",{className:(0,i.cn)("flex items-center space-x-2",u),children:(0,n.jsxs)(a.h_,{children:[(0,n.jsx)(a.$F,{asChild:!0,children:(0,n.jsxs)(s.z,{variant:"ghost",size:"sm",className:"-ml-3 h-8 data-[state=open]:bg-accent",children:[(0,n.jsx)("span",{children:r}),o]})}),(0,n.jsxs)(a.AW,{align:"start",children:[(0,n.jsxs)(a.Xi,{onClick:()=>t.toggleSorting(!1),children:[(0,n.jsx)(l.Hf3,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Asc"]}),(0,n.jsxs)(a.Xi,{onClick:()=>t.toggleSorting(!0),children:[(0,n.jsx)(l.veu,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Desc"]}),(0,n.jsx)(a.VD,{}),(0,n.jsxs)(a.Xi,{onClick:()=>t.toggleVisibility(!1),children:[(0,n.jsx)(l.L52,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Hide"]})]})]})})}},34560:function(e,t,r){"use strict";r.d(t,{Sc:function(){return y},D8:function(){return b}});var n=r(57437),l=r(8792),a=r(13571),i=r.n(a),s=r(51919),u=r(2265),o=r(62177),c=r(59143),d=r(22169);let f=u.forwardRef((e,t)=>{let{...r}=e;return(0,n.jsx)("nav",{ref:t,"aria-label":"breadcrumb",...r})});f.displayName="Breadcrumb";let m=u.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,n.jsx)("ol",{ref:t,className:(0,d.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",r),...l})});m.displayName="BreadcrumbList";let p=u.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,n.jsx)("li",{ref:t,className:(0,d.cn)("inline-flex items-center gap-1.5",r),...l})});p.displayName="BreadcrumbItem";let v=u.forwardRef((e,t)=>{let{asChild:r,className:l,...a}=e,i=r?c.g7:"a";return(0,n.jsx)(i,{ref:t,className:(0,d.cn)("transition-colors hover:text-foreground",l),...a})});v.displayName="BreadcrumbLink";let h=u.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,n.jsx)("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:(0,d.cn)("font-normal text-foreground",r),...l})});h.displayName="BreadcrumbPage";let g=e=>{let{children:t,className:r,...l}=e;return(0,n.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,d.cn)("[&>svg]:size-3.5",r),...l,children:null!=t?t:(0,n.jsx)(o.XCv,{})})};g.displayName="BreadcrumbSeparator";let x={title:"",description:"",breadcrumbs:[],actions:[]},b=e=>{s.ZP.dispatch("pageInfo",null!=e?e:[])},y=()=>{var e,t;let[r,a]=(0,u.useState)(x);(0,u.useEffect)(()=>{s.ZP.on("pageInfo",e=>{a(null!=e?e:x)})},[]);let o=(null==r?void 0:null===(e=r.breadcrumbs)||void 0===e?void 0:e.length)?[{name:"Dash",path:"/"},...null!==(t=r.breadcrumbs)&&void 0!==t?t:[]]:[],c=o.length;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("title",{children:r.title}),(0,n.jsx)(f,{children:(0,n.jsx)(m,{children:i()(o,e=>e.path).map((e,t)=>{let r=t===c-1;return(0,n.jsxs)(u.Fragment,{children:[(0,n.jsx)(p,{children:r?(0,n.jsx)(h,{children:e.name}):(0,n.jsx)(v,{asChild:!0,children:(0,n.jsx)(l.default,{href:e.path,children:e.name})})}),!r&&(0,n.jsx)(g,{})]},e.path)})})}),(r.title||r.description)&&(0,n.jsxs)("div",{className:"flex items-center justify-between space-y-2 w-full",children:[(0,n.jsxs)("div",{children:[r.title&&(0,n.jsx)("h1",{className:"text-lg font-semibold md:text-2xl",children:r.title}),r.description&&(0,n.jsx)("p",{className:"text-muted-foreground",children:r.description})]}),(0,n.jsx)("div",{className:"ml-auto mr-4 flex gap-2",children:r.actions})]})]})}},29069:function(e,t,r){"use strict";r.d(t,{Cd:function(){return o},X:function(){return c},bZ:function(){return u}});var n=r(57437),l=r(2265),a=r(57742),i=r(22169);let s=(0,a.j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),u=l.forwardRef((e,t)=>{let{className:r,variant:l,...a}=e;return(0,n.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(s({variant:l}),r),...a})});u.displayName="Alert";let o=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,n.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",r),...l})});o.displayName="AlertTitle";let c=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",r),...l})});c.displayName="AlertDescription"},33277:function(e,t,r){"use strict";r.d(t,{C:function(){return s}});var n=r(57437);r(2265);var l=r(57742),a=r(22169);let i=(0,l.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function s(e){let{className:t,variant:r,...l}=e;return(0,n.jsx)("div",{className:(0,a.cn)(i({variant:r}),t),...l})}},26739:function(e,t,r){"use strict";r.d(t,{di:function(){return p},e8:function(){return c},fu:function(){return f},mY:function(){return u},rb:function(){return d},sZ:function(){return o},zz:function(){return m}});var n=r(57437),l=r(2265),a=r(62177),i=r(38594),s=r(22169);r(9208);let u=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,n.jsx)(i.mY,{ref:t,className:(0,s.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",r),...l})});u.displayName=i.mY.displayName;let o=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,n.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,n.jsx)(a._Ve,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,n.jsx)(i.mY.Input,{ref:t,className:(0,s.cn)("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",r),...l})]})});o.displayName=i.mY.Input.displayName;let c=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,n.jsx)(i.mY.List,{ref:t,className:(0,s.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",r),...l})});c.displayName=i.mY.List.displayName;let d=l.forwardRef((e,t)=>(0,n.jsx)(i.mY.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));d.displayName=i.mY.Empty.displayName;let f=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,n.jsx)(i.mY.Group,{ref:t,className:(0,s.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",r),...l})});f.displayName=i.mY.Group.displayName;let m=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,n.jsx)(i.mY.Separator,{ref:t,className:(0,s.cn)("-mx-1 h-px bg-border",r),...l})});m.displayName=i.mY.Separator.displayName;let p=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,n.jsx)(i.mY.Item,{ref:t,className:(0,s.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled='true']:pointer-events-none data-[disabled='true']:opacity-50",r),...l})});p.displayName=i.mY.Item.displayName},90688:function(e,t,r){"use strict";r.d(t,{Rd:function(){return s},cY:function(){return a},jh:function(){return u},x$:function(){return i},xv:function(){return l}});var n=r(84971);let l=async()=>(0,n.dX)("/role"),a=async e=>{var t;if(!e)return null;let r=await (0,n.dX)("/role/".concat(e));return r.permissions=(null!==(t=r.permissions)&&void 0!==t?t:[]).map(e=>e.resource),r},i=async(e,t)=>(t||(delete e.$add,delete e.$clear),t?await (0,n.qb)("/role/".concat(t),e):await (0,n.SO)("/role",e)),s=e=>(0,n.HG)("/role/".concat(e)),u=async()=>c(o(await (0,n.dX)("/role/resources"))),o=e=>e.filter(e=>{var t;return!e.whitelist&&((null==e?void 0:null===(t=e.resources)||void 0===t?void 0:t.length)&&(e.resources=o(e.resources)),!0)}),c=e=>e.filter(e=>{var t,r;return(!e.group||null!=e&&null!==(t=e.resources)&&void 0!==t&&!!t.length)&&((null==e?void 0:null===(r=e.resources)||void 0===r?void 0:r.length)&&(e.resources=c(e.resources)),!0)})},38594:function(e,t,r){"use strict";r.d(t,{mY:function(){return A}});var n=/[\\\/_+.#"@\[\(\{&]/,l=/[\\\/_+.#"@\[\(\{&]/g,a=/[\s-]/,i=/[\s-]/g;function s(e){return e.toLowerCase().replace(i," ")}var u=r(72936),o=r(2265),c=r(29586),d='[cmdk-group=""]',f='[cmdk-group-items=""]',m='[cmdk-item=""]',p=`${m}:not([aria-disabled="true"])`,v="cmdk-item-select",h="data-value",g=(e,t,r)=>{var u;return u=e,function e(t,r,s,u,o,c,d){if(c===r.length)return o===t.length?1:.99;var f=`${o},${c}`;if(void 0!==d[f])return d[f];for(var m,p,v,h,g=u.charAt(c),x=s.indexOf(g,o),b=0;x>=0;)(m=e(t,r,s,u,x+1,c+1,d))>b&&(x===o?m*=1:n.test(t.charAt(x-1))?(m*=.8,(v=t.slice(o,x-1).match(l))&&o>0&&(m*=Math.pow(.999,v.length))):a.test(t.charAt(x-1))?(m*=.9,(h=t.slice(o,x-1).match(i))&&o>0&&(m*=Math.pow(.999,h.length))):(m*=.17,o>0&&(m*=Math.pow(.999,x-o))),t.charAt(x)!==r.charAt(c)&&(m*=.9999)),(m<.1&&s.charAt(x-1)===u.charAt(c+1)||u.charAt(c+1)===u.charAt(c)&&s.charAt(x-1)!==u.charAt(c))&&.1*(p=e(t,r,s,u,x+1,c+2,d))>m&&(m=.1*p),m>b&&(b=m),x=s.indexOf(g,x+1);return d[f]=b,b}(u=r&&r.length>0?`${u+" "+r.join(" ")}`:u,t,s(u),s(t),0,0,{})},x=o.createContext(void 0),b=()=>o.useContext(x),y=o.createContext(void 0),w=()=>o.useContext(y),j=o.createContext(void 0),N=o.forwardRef((e,t)=>{let r=D(()=>{var t,r;return{search:"",value:null!=(r=null!=(t=e.value)?t:e.defaultValue)?r:"",filtered:{count:0,items:new Map,groups:new Set}}}),n=D(()=>new Set),l=D(()=>new Map),a=D(()=>new Map),i=D(()=>new Set),s=V(e),{label:u,children:b,value:w,onValueChange:j,filter:N,shouldFilter:E,loop:k,disablePointerSelection:S=!1,vimBindings:R=!0,...C}=e,I=o.useId(),A=o.useId(),M=o.useId(),_=o.useRef(null),Y=L();F(()=>{if(void 0!==w){let e=w.trim();r.current.value=e,P.emit()}},[w]),F(()=>{Y(6,X)},[]);let P=o.useMemo(()=>({subscribe:e=>(i.current.add(e),()=>i.current.delete(e)),snapshot:()=>r.current,setState:(e,t,n)=>{var l,a,i;if(!Object.is(r.current[e],t)){if(r.current[e]=t,"search"===e)W(),q(),Y(1,O);else if("value"===e&&(n||Y(5,X),(null==(l=s.current)?void 0:l.value)!==void 0)){null==(i=(a=s.current).onValueChange)||i.call(a,null!=t?t:"");return}P.emit()}},emit:()=>{i.current.forEach(e=>e())}}),[]),H=o.useMemo(()=>({value:(e,t,n)=>{var l;t!==(null==(l=a.current.get(e))?void 0:l.value)&&(a.current.set(e,{value:t,keywords:n}),r.current.filtered.items.set(e,z(t,n)),Y(2,()=>{q(),P.emit()}))},item:(e,t)=>(n.current.add(e),t&&(l.current.has(t)?l.current.get(t).add(e):l.current.set(t,new Set([e]))),Y(3,()=>{W(),q(),r.current.value||O(),P.emit()}),()=>{a.current.delete(e),n.current.delete(e),r.current.filtered.items.delete(e);let t=Z();Y(4,()=>{W(),(null==t?void 0:t.getAttribute("id"))===e&&O(),P.emit()})}),group:e=>(l.current.has(e)||l.current.set(e,new Set),()=>{a.current.delete(e),l.current.delete(e)}),filter:()=>s.current.shouldFilter,label:u||e["aria-label"],disablePointerSelection:S,listId:I,inputId:M,labelId:A,listInnerRef:_}),[]);function z(e,t){var n,l;let a=null!=(l=null==(n=s.current)?void 0:n.filter)?l:g;return e?a(e,r.current.search,t):0}function q(){if(!r.current.search||!1===s.current.shouldFilter)return;let e=r.current.filtered.items,t=[];r.current.filtered.groups.forEach(r=>{let n=l.current.get(r),a=0;n.forEach(t=>{a=Math.max(e.get(t),a)}),t.push([r,a])});let n=_.current;B().sort((t,r)=>{var n,l;let a=t.getAttribute("id"),i=r.getAttribute("id");return(null!=(n=e.get(i))?n:0)-(null!=(l=e.get(a))?l:0)}).forEach(e=>{let t=e.closest(f);t?t.appendChild(e.parentElement===t?e:e.closest(`${f} > *`)):n.appendChild(e.parentElement===n?e:e.closest(`${f} > *`))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{let t=_.current.querySelector(`${d}[${h}="${encodeURIComponent(e[0])}"]`);null==t||t.parentElement.appendChild(t)})}function O(){let e=B().find(e=>"true"!==e.getAttribute("aria-disabled")),t=null==e?void 0:e.getAttribute(h);P.setState("value",t||void 0)}function W(){var e,t,i,u;if(!r.current.search||!1===s.current.shouldFilter){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let o=0;for(let l of n.current){let n=z(null!=(t=null==(e=a.current.get(l))?void 0:e.value)?t:"",null!=(u=null==(i=a.current.get(l))?void 0:i.keywords)?u:[]);r.current.filtered.items.set(l,n),n>0&&o++}for(let[e,t]of l.current)for(let n of t)if(r.current.filtered.items.get(n)>0){r.current.filtered.groups.add(e);break}r.current.filtered.count=o}function X(){var e,t,r;let n=Z();n&&((null==(e=n.parentElement)?void 0:e.firstChild)===n&&(null==(r=null==(t=n.closest(d))?void 0:t.querySelector('[cmdk-group-heading=""]'))||r.scrollIntoView({block:"nearest"})),n.scrollIntoView({block:"nearest"}))}function Z(){var e;return null==(e=_.current)?void 0:e.querySelector(`${m}[aria-selected="true"]`)}function B(){var e;return Array.from(null==(e=_.current)?void 0:e.querySelectorAll(p))}function Q(e){let t=B()[e];t&&P.setState("value",t.getAttribute(h))}function T(e){var t;let r=Z(),n=B(),l=n.findIndex(e=>e===r),a=n[l+e];null!=(t=s.current)&&t.loop&&(a=l+e<0?n[n.length-1]:l+e===n.length?n[0]:n[l+e]),a&&P.setState("value",a.getAttribute(h))}function G(e){let t=Z(),r=null==t?void 0:t.closest(d),n;for(;r&&!n;)n=null==(r=e>0?function(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}(r,d):function(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}(r,d))?void 0:r.querySelector(p);n?P.setState("value",n.getAttribute(h)):T(e)}let U=()=>Q(B().length-1),J=e=>{e.preventDefault(),e.metaKey?U():e.altKey?G(1):T(1)},ee=e=>{e.preventDefault(),e.metaKey?Q(0):e.altKey?G(-1):T(-1)};return o.createElement(c.WV.div,{ref:t,tabIndex:-1,...C,"cmdk-root":"",onKeyDown:e=>{var t;if(null==(t=C.onKeyDown)||t.call(C,e),!e.defaultPrevented)switch(e.key){case"n":case"j":R&&e.ctrlKey&&J(e);break;case"ArrowDown":J(e);break;case"p":case"k":R&&e.ctrlKey&&ee(e);break;case"ArrowUp":ee(e);break;case"Home":e.preventDefault(),Q(0);break;case"End":e.preventDefault(),U();break;case"Enter":if(!e.nativeEvent.isComposing&&229!==e.keyCode){e.preventDefault();let t=Z();if(t){let e=new Event(v);t.dispatchEvent(e)}}}}},o.createElement("label",{"cmdk-label":"",htmlFor:H.inputId,id:H.labelId,style:K},u),$(e,e=>o.createElement(y.Provider,{value:P},o.createElement(x.Provider,{value:H},e))))}),E=o.forwardRef((e,t)=>{var r,n;let l=o.useId(),a=o.useRef(null),i=o.useContext(j),s=b(),u=V(e),d=null!=(n=null==(r=u.current)?void 0:r.forceMount)?n:null==i?void 0:i.forceMount;F(()=>{if(!d)return s.item(l,null==i?void 0:i.id)},[d]);let f=Y(l,a,[e.value,e.children,a],e.keywords),m=w(),p=_(e=>e.value&&e.value===f.current),h=_(e=>!!d||!1===s.filter()||!e.search||e.filtered.items.get(l)>0);function g(){var e,t;x(),null==(t=(e=u.current).onSelect)||t.call(e,f.current)}function x(){m.setState("value",f.current,!0)}if(o.useEffect(()=>{let t=a.current;if(!(!t||e.disabled))return t.addEventListener(v,g),()=>t.removeEventListener(v,g)},[h,e.onSelect,e.disabled]),!h)return null;let{disabled:y,value:N,onSelect:E,forceMount:k,keywords:S,...R}=e;return o.createElement(c.WV.div,{ref:M([a,t]),...R,id:l,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!p,"data-disabled":!!y,"data-selected":!!p,onPointerMove:y||s.disablePointerSelection?void 0:x,onClick:y?void 0:g},e.children)}),k=o.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:l,...a}=e,i=o.useId(),s=o.useRef(null),u=o.useRef(null),d=o.useId(),f=b(),m=_(e=>!!l||!1===f.filter()||!e.search||e.filtered.groups.has(i));F(()=>f.group(i),[]),Y(i,s,[e.value,e.heading,u]);let p=o.useMemo(()=>({id:i,forceMount:l}),[l]);return o.createElement(c.WV.div,{ref:M([s,t]),...a,"cmdk-group":"",role:"presentation",hidden:!m||void 0},r&&o.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),$(e,e=>o.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},o.createElement(j.Provider,{value:p},e))))}),S=o.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,l=o.useRef(null),a=_(e=>!e.search);return r||a?o.createElement(c.WV.div,{ref:M([l,t]),...n,"cmdk-separator":"",role:"separator"}):null}),R=o.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,l=null!=e.value,a=w(),i=_(e=>e.search),s=_(e=>e.value),u=b(),d=o.useMemo(()=>{var e;let t=null==(e=u.listInnerRef.current)?void 0:e.querySelector(`${m}[${h}="${encodeURIComponent(s)}"]`);return null==t?void 0:t.getAttribute("id")},[]);return o.useEffect(()=>{null!=e.value&&a.setState("search",e.value)},[e.value]),o.createElement(c.WV.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":d,id:u.inputId,type:"text",value:l?e.value:i,onChange:e=>{l||a.setState("search",e.target.value),null==r||r(e.target.value)}})}),C=o.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...l}=e,a=o.useRef(null),i=o.useRef(null),s=b();return o.useEffect(()=>{if(i.current&&a.current){let e=i.current,t=a.current,r,n=new ResizeObserver(()=>{r=requestAnimationFrame(()=>{let r=e.offsetHeight;t.style.setProperty("--cmdk-list-height",r.toFixed(1)+"px")})});return n.observe(e),()=>{cancelAnimationFrame(r),n.unobserve(e)}}},[]),o.createElement(c.WV.div,{ref:M([a,t]),...l,"cmdk-list":"",role:"listbox","aria-label":n,id:s.listId},$(e,e=>o.createElement("div",{ref:M([i,s.listInnerRef]),"cmdk-list-sizer":""},e)))}),I=o.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:l,contentClassName:a,container:i,...s}=e;return o.createElement(u.fC,{open:r,onOpenChange:n},o.createElement(u.h_,{container:i},o.createElement(u.aV,{"cmdk-overlay":"",className:l}),o.createElement(u.VY,{"aria-label":e.label,"cmdk-dialog":"",className:a},o.createElement(N,{ref:t,...s}))))}),A=Object.assign(N,{List:C,Item:E,Input:R,Group:k,Separator:S,Dialog:I,Empty:o.forwardRef((e,t)=>_(e=>0===e.filtered.count)?o.createElement(c.WV.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Loading:o.forwardRef((e,t)=>{let{progress:r,children:n,label:l="Loading...",...a}=e;return o.createElement(c.WV.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":l},$(e,e=>o.createElement("div",{"aria-hidden":!0},e)))})});function V(e){let t=o.useRef(e);return F(()=>{t.current=e}),t}var F="undefined"==typeof window?o.useEffect:o.useLayoutEffect;function D(e){let t=o.useRef();return void 0===t.current&&(t.current=e()),t}function M(e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}function _(e){let t=w(),r=()=>e(t.snapshot());return o.useSyncExternalStore(t.subscribe,r,r)}function Y(e,t,r,n=[]){let l=o.useRef(),a=b();return F(()=>{var i;let s=(()=>{var e;for(let t of r){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():l.current}})(),u=n.map(e=>e.trim());a.value(e,s,u),null==(i=t.current)||i.setAttribute(h,s),l.current=s}),l}var L=()=>{let[e,t]=o.useState(),r=D(()=>new Map);return F(()=>{r.current.forEach(e=>e()),r.current=new Map},[e]),(e,n)=>{r.current.set(e,n),t({})}};function $({asChild:e,children:t},r){let n;return e&&o.isValidElement(t)?o.cloneElement("function"==typeof(n=t.type)?n(t.props):"render"in n?n.render(t.props):t,{ref:t.ref},r(t.props.children)):r(t)}var K={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"}}},function(e){e.O(0,[310,637,872,792,571,32,732,998,156,704,834,971,69,744],function(){return e(e.s=78571)}),_N_E=e.O()}]);